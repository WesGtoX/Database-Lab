SELECT TABLE_NAME FROM USER_TABLES;
SELECT CONSTRAINT_NAME FROM USER_CONSTRAINTS;

DROP SEQUENCE seq_cod_agente;
DROP SEQUENCE seq_cod_cliente;
DROP SEQUENCE seq_num_pacote;
DROP SEQUENCE seq_num_contrato;

DROP TABLE CONTRATO_VIAGEM;
DROP TABLE PACOTE;
DROP TABLE HOTEL;
DROP TABLE CLASSIFIC_HOTEL;
DROP TABLE CIDADE;
DROP TABLE TELEFONE;
DROP TABLE CLIENTE;
DROP TABLE AGENTE;

SELECT * FROM CLIENTE;
SELECT * FROM TELEFONE;
SELECT * FROM AGENTE;
SELECT * FROM CLASSIFIC_HOTEL;
SELECT * FROM HOTEL;
SELECT * FROM PACOTE;
SELECT * FROM CONTRATO_VIAGEM;



CREATE TABLE AGENTE(
    cod_agente NUMBER, -- (PK)
    nom_agente VARCHAR(35) NOT NULL,
    dta_agente DATE,
    CONSTRAINT pk_agente PRIMARY KEY (cod_agente)
);

CREATE TABLE CLIENTE(
    cod_cliente NUMBER,    -- (PK)
    nom_cliente VARCHAR(35) NOT NULL,
    dtn_cliente DATE,
    CONSTRAINT pk_cliente PRIMARY KEY (cod_cliente)
);

CREATE TABLE TELEFONE(
    cod_cliente NUMBER,    -- (FK)(PK)
    num_telefone NUMBER,
    ddd_telefone NUMBER,
    CONSTRAINT pk_telefone PRIMARY KEY (cod_cliente),
    CONSTRAINT fk_telefone_cliente FOREIGN KEY (cod_cliente) REFERENCES CLIENTE
);

CREATE TABLE CIDADE(
    cod_cidade NUMBER,
    nom_cidade VARCHAR(35) NOT NULL,
    uf_cidade CHAR(2) NOT NULL,
    CONSTRAINT pk_cidade PRIMARY KEY (cod_cidade)
);

CREATE TABLE CLASSIFIC_HOTEL(
    id_classific_hotel INTEGER, -- (PK)
    dsc_classificacao VARCHAR(15),
    CONSTRAINT pk_classific_hotel PRIMARY KEY (id_classific_hotel)
);

CREATE TABLE HOTEL(
    cod_hotel INTEGER,          -- (PK)
    id_classific_hotel INTEGER, -- (FK)
    nom_hotel VARCHAR(30),
    CONSTRAINT pk_hotel PRIMARY KEY (cod_hotel),
    CONSTRAINT fk_pacote_hotel FOREIGN KEY (id_classific_hotel) REFERENCES HOTEL
);

CREATE TABLE PACOTE(
    num_pacote NUMBER,     -- (PK)
    cod_hotel INTEGER,      -- (FK)
    cod_cidadeorig NUMBER, -- (FK)
    cod_cidadedest NUMBER, -- (FK)
    dti_pacote DATE,
    dtf_pacote DATE,
    vlr_pacote NUMBER(6,2),
    CONSTRAINT pk_pacote PRIMARY KEY (num_pacote),
    CONSTRAINT fk_hotel FOREIGN KEY (cod_hotel) REFERENCES HOTEL,
    CONSTRAINT fk_pacote_cidadeorig FOREIGN KEY (cod_cidadeorig) REFERENCES CIDADE,
    CONSTRAINT fk_pacote_cidadedest FOREIGN KEY (cod_cidadedest) REFERENCES CIDADE
);

CREATE TABLE CONTRATO_VIAGEM(
    num_contrato NUMBER,   -- (PK)
    num_pacote NUMBER,     -- (FK)
    cod_cliente NUMBER,    -- (FK)
    cod_agente NUMBER,     -- (FK)
    dta_contrato DATE,
    pag_contrato CHAR,
    CONSTRAINT pk_contrato_viagem PRIMARY KEY (num_contrato),
    CONSTRAINT fk_contrato_viagem_pacote FOREIGN KEY (num_pacote) REFERENCES PACOTE,
    CONSTRAINT fk_contrato_viagem_cliente FOREIGN KEY (cod_cliente) REFERENCES CLIENTE,
    CONSTRAINT fk_contrato_viagem_agente FOREIGN KEY (cod_agente) REFERENCES AGENTE
);

COMMIT;


-- AGENTE
CREATE SEQUENCE seq_cod_agente
START WITH 1
INCREMENT BY 1
MINVALUE 1
MAXVALUE 99
NOCYCLE;

-- CLIENTE
CREATE SEQUENCE seq_cod_cliente
START WITH 1
INCREMENT BY 1
MINVALUE 1
MAXVALUE 9999
NOCYCLE;

-- PACOTE
CREATE SEQUENCE seq_num_pacote
START WITH 1
INCREMENT BY 1
MINVALUE 1
MAXVALUE 99
NOCYCLE;

-- CONTRATO
CREATE SEQUENCE seq_num_contrato
START WITH 1
INCREMENT BY 1
MINVALUE 1
MAXVALUE 9999
NOCYCLE;

-- HOTEL
CREATE SEQUENCE seq_num_hotel
START WITH 1
INCREMENT BY 1
NOCYCLE;

-- CLASSIFIC HOTEL
CREATE SEQUENCE seq_num_classific_hotel
START WITH 1
INCREMENT BY 1
NOCYCLE;

-- CIDADE
CREATE SEQUENCE seq_num_cidade
START WITH 1
INCREMENT BY 1
NOCYCLE;

COMMIT;


ALTER TABLE CLIENTE
ADD email_cliente VARCHAR2(50);

ALTER TABLE CLIENTE 
ADD dtn_cliente DATE; -- (JÁ É CRIADO NA CRIAÇÃO DAS TABELAS)
-- Estes comandos alteram uma tabela específica, adicionando um novo atributo a ela.

COMMIT;


-- 'cod_cliente', nom_cliente. dtn_cliente, email_cliente
INSERT INTO CLIENTE VALUES (1, 'Client 1', TO_DATE('1995-06-06', 'YYYY-MM-DD'), 'client1@client.com');
INSERT INTO CLIENTE VALUES (2, 'Client 2', TO_DATE('1990-06-06', 'YYYY-MM-DD'), 'client2@client.com');
INSERT INTO CLIENTE VALUES (3, 'Client 3', TO_DATE('1980-06-06', 'YYYY-MM-DD'), 'client3@client.com');
INSERT INTO CLIENTE VALUES (4, 'Client 4', TO_DATE('1980-06-06', 'YYYY-MM-DD'), 'client4@client.com');
INSERT INTO CLIENTE VALUES (5, 'Client 5', TO_DATE('1980-06-06', 'YYYY-MM-DD'), 'client5@client.com');

-- 'cod_cliente', num_telefone, ddd_telefone
INSERT INTO TELEFONE VALUES (1, 91123456, 16);
INSERT INTO TELEFONE VALUES (2, 92123456, 16);
INSERT INTO TELEFONE VALUES (3, 93123456, 16);
INSERT INTO TELEFONE VALUES (4, 94123456, 16);

-- 'cod_agente', nom_agente, dta_agente
INSERT INTO AGENTE VALUES (1, 'Agent 1', TO_DATE('1996-10-07', 'YYYY-MM-DD'));
INSERT INTO AGENTE VALUES (2, 'Agent 2', TO_DATE('1996-10-07', 'YYYY-MM-DD'));
INSERT INTO AGENTE VALUES (3, 'Agent 3', TO_DATE('1996-10-07', 'YYYY-MM-DD'));
INSERT INTO AGENTE VALUES (4, 'Agent 4', TO_DATE('1996-10-07', 'YYYY-MM-DD'));
INSERT INTO AGENTE VALUES (5, 'Agent 5', TO_DATE('1996-10-07', 'YYYY-MM-DD'));

-- 'id_classific_hotel', dsc_classificacao
INSERT INTO CLASSIFIC_HOTEL VALUES (1, '1 estrelas');
INSERT INTO CLASSIFIC_HOTEL VALUES (2, '2 estrelas');
INSERT INTO CLASSIFIC_HOTEL VALUES (3, '3 estrelas');
INSERT INTO CLASSIFIC_HOTEL VALUES (4, '4 estrelas');
INSERT INTO CLASSIFIC_HOTEL VALUES (5, '5 estrelas');

-- 'cod_hotel', ch.id_classific_hotel, nom_hotel
INSERT INTO HOTEL VALUES (1, 1, 'Hotel 1');
INSERT INTO HOTEL VALUES (2, 2, 'Hotel 2');
INSERT INTO HOTEL VALUES (3, 2, 'Hotel 3');
INSERT INTO HOTEL VALUES (4, 3, 'Hotel 4');
INSERT INTO HOTEL VALUES (5, 3, 'Hotel 5');
INSERT INTO HOTEL VALUES (6, 3, 'Hotel 6');
INSERT INTO HOTEL VALUES (7, 4, 'Hotel 7');
INSERT INTO HOTEL VALUES (8, 4, 'Hotel 8');
INSERT INTO HOTEL VALUES (9, 4, 'Hotel 9');
INSERT INTO HOTEL VALUES (10, 4, 'Hotel 10');
INSERT INTO HOTEL VALUES (11, 5, 'Hotel 11');
INSERT INTO HOTEL VALUES (12, 5, 'Hotel 12');
INSERT INTO HOTEL VALUES (13, 5, 'Hotel 13');
INSERT INTO HOTEL VALUES (14, 5, 'Hotel 14');
INSERT INTO HOTEL VALUES (15, 5, 'Hotel 15');

-- 'cod_cidade', nom_cidade, uf_cidade
INSERT INTO CIDADE VALUES (1, 'Sertãozinho', 'SP');
INSERT INTO CIDADE VALUES (2, 'Ribeirão Preto', 'SP');
INSERT INTO CIDADE VALUES (3, 'Jaboticabal', 'SP');
INSERT INTO CIDADE VALUES (4, 'Matão', 'SP');
INSERT INTO CIDADE VALUES (5, 'Barretos', 'SP');
INSERT INTO CIDADE VALUES (6, 'Colombia', 'SP');
INSERT INTO CIDADE VALUES (7, 'São Paulo', 'SP');
INSERT INTO CIDADE VALUES (8, 'Rio de Janeiro', 'RJ');
INSERT INTO CIDADE VALUES (9, 'Salvador', 'BA');
INSERT INTO CIDADE VALUES (10, 'Campinas', 'SP');
INSERT INTO CIDADE VALUES (11, 'Rio de Janeiro', 'RJ');
INSERT INTO CIDADE VALUES (12, 'Natal', 'RN');
INSERT INTO CIDADE VALUES (13, 'Porto Seguro', 'BA');
INSERT INTO CIDADE VALUES (14, 'Maceió', 'AL');
INSERT INTO CIDADE VALUES (15, 'Guarulhos', 'SP');
INSERT INTO CIDADE VALUES (16, 'Uberlândia', 'MG');
INSERT INTO CIDADE VALUES (17, 'Confins', 'MG');
INSERT INTO CIDADE VALUES (18, 'Ilhéus', 'BA');
INSERT INTO CIDADE VALUES (19, 'Presidente Prudente', 'SP');
INSERT INTO CIDADE VALUES (20, 'Cabo Frio', 'RJ');
INSERT INTO CIDADE VALUES (21, 'Bauru', 'SP');
INSERT INTO CIDADE VALUES (22, 'Montes Claros', 'MG');

-- 'num_pacote', h.cod_hotel, co.cod_cidadeorig, cd.cod_cidadedest, dti_pacote, dtf_pacote, vlr_pacote
INSERT INTO PACOTE VALUES (1, 1, 1, 6, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 221.11);
INSERT INTO PACOTE VALUES (2, 2, 2, 5, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 222.22);
INSERT INTO PACOTE VALUES (3, 3, 3, 4, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 223.33);
INSERT INTO PACOTE VALUES (4, 4, 4, 3, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 224.44);
INSERT INTO PACOTE VALUES (5, 5, 5, 2, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (6, 2, 7, 22, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (7, 5, 8, 21, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (8, 5, 9, 20, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (9, 1, 10, 19, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (10, 1, 11, 18, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (11, 5, 12, 17, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (12, 4, 13, 16, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (13, 3, 14, 15, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (14, 1, 15, 14, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (15, 2, 16, 13, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (16, 2, 17, 12, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (17, 5, 18, 11, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (18, 1, 19, 10, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (19, 4, 20, 9, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (20, 2, 21, 8, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);
INSERT INTO PACOTE VALUES (21, 5, 22, 7, TO_DATE('1996-10-07', 'YYYY-MM-DD'), TO_DATE('1996-10-07', 'YYYY-MM-DD'), 225.55);

-- 'num_contrato', p.num_pacote, c.cod_cliente, a.cod_agente, dta_contrato, pag_contrato
INSERT INTO CONTRATO_VIAGEM VALUES (1, 1, 3, 3, TO_DATE('2020-01-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (2, 3, 4, 4, TO_DATE('2020-01-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (3, 18, 2, 2, TO_DATE('2020-01-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (4, 21, 3, 3, TO_DATE('2020-02-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (5, 20, 5, 5, TO_DATE('2020-02-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (6, 17, 3, 3, TO_DATE('2020-03-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (7, 5, 3, 3, TO_DATE('2020-01-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (8, 12, 1, 1, TO_DATE('2020-01-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (9, 2, 2, 2, TO_DATE('2020-01-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (10, 16, 5, 5, TO_DATE('2020-04-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (11, 11, 1, 1, TO_DATE('2020-01-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (12, 13, 3, 3, TO_DATE('2020-09-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (13, 8, 5, 5, TO_DATE('2020-02-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (14, 9, 4, 4, TO_DATE('2020-01-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (15, 15, 3, 3, TO_DATE('2020-08-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (16, 14, 4, 4, TO_DATE('2020-04-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (17, 4, 3, 3, TO_DATE('2020-01-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (18, 7, 3, 3, TO_DATE('2020-05-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (19, 6, 4, 4, TO_DATE('2020-05-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (20, 19, 2, 2, TO_DATE('2020-03-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (21, 10, 2, 2, TO_DATE('2020-10-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (22, 16, 1, 1, TO_DATE('2020-04-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (23, 13, 4, 4, TO_DATE('2020-10-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (24, 20, 3, 3, TO_DATE('2020-04-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (25, 12, 1, 1, TO_DATE('2020-01-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (26, 14, 2, 2, TO_DATE('2020-07-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (27, 3, 2, 2, TO_DATE('2020-10-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (28, 15, 4, 4, TO_DATE('2020-12-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (29, 1, 3, 3, TO_DATE('2020-09-07', 'YYYY-MM-DD'), 'S');
INSERT INTO CONTRATO_VIAGEM VALUES (30, 11, 1, 1, TO_DATE('2020-08-07', 'YYYY-MM-DD'), 'S');
